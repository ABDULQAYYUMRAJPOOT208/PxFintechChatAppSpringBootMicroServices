spring.application.name=user-service
spring.datasource.url=jdbc:postgresql://localhost:5432/user-db
spring.datasource.username=postgres
spring.datasource.password=root
spring.datasource.driver-class-name=org.postgresql.Driver


# server configuration
server.port=8080
server.servlet.context-path=/api/v1

# jpa configuration
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true


# ===================================
# Eureka Discovery
# ===================================
eureka.client.service-url.defaultZone=http://localhost:8761/eureka
eureka.client.fetch-registry=true
eureka.client.register-with-eureka=true
eureka.instance.hostname=localhost
eureka.instance.prefer-ip-address=true
eureka.instance.lease-renewal-interval-in-seconds=30
eureka.instance.lease-expiration-duration-in-seconds=90

# ===================================
# Actuator & Monitoring
# ===================================
management.endpoints.web.exposure.include=health,info,metrics,prometheus,refresh
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true
management.prometheus.metrics.export.enabled=true
management.tracing.sampling.probability=1.0
management.zipkin.tracing.endpoint=http://localhost:9411/api/v2/spans

# ===================================
# Logging Configuration
# ===================================
logging.level.com.fintech.userservice=DEBUG
logging.level.org.springframework.security=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.file.name=logs/user-service.log
logging.file.max-size=10MB
logging.file.max-history=30
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.logback.rollingpolicy.max-history=30
logging.logback.rollingpolicy.max-file-size=10MB

# ===================================
# Swagger/OpenAPI
# ===================================
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.show-actuator=true

# ===================================
# Thread Pool Configuration
# ===================================
spring.task.execution.pool.core-size=5
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=25
spring.task.execution.thread-name-prefix=user-async-

# ===================================
# Multipart Configuration
# ===================================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.enabled=true

# ===================================
# Jackson Configuration
# ===================================
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=UTC
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.default-property-inclusion=non_null

# ===================================
# Internationalization
# ===================================
spring.messages.basename=messages
spring.messages.cache-duration=3600ms
spring.messages.encoding=UTF-8
# redis
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=2000ms
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0

# cache config
spring.cache.type=redis
spring.cache.redis.time-to-live=600000ms
spring.cache.redis.cache-null-values=false

# jwt config
jwt.secret=mySecretKeyForJWTTokenGenerationAndValidation2023WithExtraLengthForSecurity
jwt.expiration=900000
jwt.refresh-expiration=604800000
jwt.issuer=fintech-app
jwt.audience=fintech-users

# otp settings
otp.expiry=300
otp.length=6


# secrity configuration
app.rate-limit.enabled=true
app.rate-limit.default-limit=100
app.rate-limit.otp-limit=5
app.encryption.secret=myEncryptionKeyForPII2023WithExtraLength
app.allowed-origins=http://localhost:3000,http://localhost:8080,http://localhost:4200

# ===================================
# Kafka Configuration
# ===================================
spring.kafka.bootstrap-servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.producer.properties.spring.json.add.type.headers=false
spring.kafka.admin.fail-fast=false