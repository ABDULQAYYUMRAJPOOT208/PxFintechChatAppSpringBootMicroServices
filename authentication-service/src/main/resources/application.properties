# ===================================
# Application Name
# ===================================
spring.application.name=authentication-service
server.port=8082
server.servlet.context-path=/api/v1

# ===================================
# Database Configuration
# ===================================
spring.datasource.url=jdbc:postgresql://localhost:5432/authdb
spring.datasource.username=postgres
spring.datasource.password=root
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# ===================================
# Flyway Migration
# ===================================
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration

# ===================================
# Valkey Configuration (Redis Compatible)
# ===================================
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.password=
spring.data.redis.timeout=2000ms
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0

# ===================================
# JWT Configuration
# ===================================
jwt.secret=${JWT_SECRET:mySuperSecretKeyForJWTTokenGeneration2024WithExtraLengthForSecurity}
jwt.access-token-expiration=900000
jwt.refresh-token-expiration=604800000
jwt.issuer=fintech-auth-service
jwt.audience=fintech-services

# ===================================
# OAuth2 Configuration
# ===================================
oauth2.authorization-server.issuer=http://localhost:8082
oauth2.authorization-server.redirect-uri=http://localhost:3000/callback

# ===================================
# Eureka Discovery
# ===================================
eureka.client.service-url.defaultZone=http://localhost:8761/eureka
eureka.client.fetch-registry=false
eureka.client.register-with-eureka=false
eureka.instance.prefer-ip-address=true

# ===================================
# Logging
# ===================================
logging.level.com.fintech.authservice=DEBUG
logging.level.org.springframework.security=INFO